name: runpod-xtts
image: docker.io/library/runpod-xtts:latest   # replace if you push to Docker Hub/GHCR
gpu: true
gpu_type: RTX_2000_Ada
min_vcpus: 2
min_memory: 4Gi
ports:
  - port: 8000
    http: true
    isDefault: true
volume:
  mountPath: /workspace
startCommand: >
  bash -lc '
  set -e
  echo "🔍 Locating main.py..."
  for d in /workspace/runpod-xtts /workspace; do
    if [ -f "$d/main.py" ]; then
      cd "$d"
      echo "✅ Found main.py in: $(pwd)"
      break
    fi
  done
  echo "📂 Current directory: $(pwd)"
  echo "📄 Files in directory:"
  ls -la
  echo "🚀 Starting TTS service..."
  python3 main.py
  '
