name: runpod-xtts
image: docker.io/callwaiyingai/runpod-xtts:latest
gpu: true
gpu_type: RTX_2000_Ada
min_vcpus: 2
min_memory: 4Gi
ports:
  - port: 8000
    http: true
    isDefault: true
volume:
  mountPath: /workspace
startCommand: >
  bash -lc '
  set -e
  echo "🔍 Setting up TTS service..."
  cd /workspace
  if [ ! -d "runpod-xtts" ]; then
    echo "📥 Cloning repository..."
    git clone https://github.com/Odiabackend099/runpod-xtts.git
  else
    echo "📦 Repository exists, pulling latest..."
    cd runpod-xtts && git pull origin main && cd /workspace
  fi
  cd /workspace/runpod-xtts
  echo "📂 Current directory: $(pwd)"
  echo "📄 Installing dependencies..."
  pip install -q -r requirements.txt
  echo "🚀 Starting TTS service..."
  python3 main.py
  '
